{"ast":null,"code":"var _jsxFileName = \"D:\\\\downloads\\\\hackathon expense mgmt\\\\ExpenseMgmt\\\\frontend\\\\src\\\\context\\\\exp\\\\ExpState.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport ExpContext from './ExpContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ExpState = props => {\n  _s();\n  const [incomes, setIncomes] = useState([]);\n  const addIncome = async income => {\n    console.log(\"Adding an income\");\n    const response = await fetch(`http://localhost:5000/api/v1/add-income`, {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json',\n        'auth-token': localStorage.getItem('token')\n      },\n      body: JSON.stringify(income)\n    });\n    const json = response.json();\n    console.log(json);\n    const addin = {\n      \"user\": \"64719ad62d608481ee49fe86\",\n      \"title\": income.title,\n      \"amount\": income.amount,\n      \"type\": \"income\",\n      \"date\": income.date,\n      \"category\": income.category,\n      \"description\": income.description,\n      \"_id\": \"647def50c456489e555862e0\",\n      \"createdAt\": \"2023-06-05T14:21:04.712Z\",\n      \"updatedAt\": \"2023-06-05T14:21:04.712Z\",\n      \"__v\": 0\n    };\n    setIncomes(addin);\n    getIncome();\n    alert(\"Income added Successfully\");\n  };\n  const getIncome = async () => {\n    const response = await fetch(`http://localhost:5000/api/v1/get-incomes`, {\n      method: 'GET',\n      headers: {\n        'content-type': 'application/json',\n        'auth-token': localStorage.getItem('token')\n      }\n    });\n    const json = await response.json();\n    console.log(json);\n    setIncomes(json);\n  };\n  const deleteIncome = async id => {\n    const response = await fetch(`http://localhost:5000/api/v1/delete-income/${id}`, {\n      method: 'DELETE',\n      headers: {\n        'content-type': 'application/json',\n        'auth-token': localStorage.getItem('token')\n      }\n    });\n    const json = response.json();\n    console.log(json);\n    console.log(id);\n    const newincome = incomes.filter(income => {\n      return income._id !== id;\n    });\n    setIncomes(newincome);\n    getIncome();\n    alert(\"Income Deleted Successfully\");\n  };\n  const [totalIncome, setTotalIncome] = useState(0);\n  const addAllIncomes = async () => {\n    try {\n      const response = await fetch(`http://localhost:5000/api/v1/get-incomes`, {\n        method: 'GET',\n        headers: {\n          'content-type': 'application/json',\n          'auth-token': localStorage.getItem('token')\n        }\n      });\n      const userIncomes = response.data;\n\n      // Calculate the total income\n      const total = userIncomes.reduce((sum, income) => sum + income.amount, 0);\n      setTotalIncome(total);\n    } catch (error) {\n      console.error('Error fetching user incomes:', error);\n    }\n    // const totalIncome = async () => {\n    //     try {\n    //         const response = await fetch(`http://localhost:5000/api/v1/get-incomes`, {\n    //             method: 'GET',\n    //             headers: {\n    //                 'content-type': 'application/json',\n    //                 'auth-token': localStorage.getItem('token')\n    //             },\n    //         })\n    //         // const json = await response.json()\n    //         // console.log(json)\n\n    //         const userIncomeData = response.json();\n\n    //         // Calculate the total income\n    //         // console.log(userIncomeData)\n    //         const totalIncome = userIncomeData.reduce(\n    //             (total, income) => total + income.amount,\n    //             0\n    //         );\n\n    //         console.log(totalIncome);\n\n    //     } catch (error) {\n    //         console.log('Error fetching user income:', error);\n    //     }\n    // };\n    return /*#__PURE__*/_jsxDEV(ExpContext.Provider, {\n      value: {\n        incomes,\n        addAllIncomes,\n        deleteIncome,\n        addIncome,\n        getIncome\n      },\n      children: props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this);\n  };\n};\n_s(ExpState, \"6//X5CtmPgLIVNto2m+8/H9VllY=\");\n_c = ExpState;\nexport default ExpState;\nvar _c;\n$RefreshReg$(_c, \"ExpState\");","map":{"version":3,"names":["React","useState","ExpContext","jsxDEV","_jsxDEV","ExpState","props","_s","incomes","setIncomes","addIncome","income","console","log","response","fetch","method","headers","localStorage","getItem","body","JSON","stringify","json","addin","title","amount","date","category","description","getIncome","alert","deleteIncome","id","newincome","filter","_id","totalIncome","setTotalIncome","addAllIncomes","userIncomes","data","total","reduce","sum","error","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/downloads/hackathon expense mgmt/ExpenseMgmt/frontend/src/context/exp/ExpState.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport ExpContext from './ExpContext'\r\n\r\nconst ExpState = (props) => {\r\n    const [incomes, setIncomes] = useState([]);\r\n\r\n    const addIncome = async (income) => {\r\n        console.log(\"Adding an income\")\r\n\r\n        const response = await fetch(`http://localhost:5000/api/v1/add-income`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'content-type': 'application/json',\r\n                'auth-token': localStorage.getItem('token')\r\n            },\r\n            body: JSON.stringify(income)\r\n        })\r\n        const json = response.json();\r\n        console.log(json)\r\n\r\n        const addin = {\r\n            \"user\": \"64719ad62d608481ee49fe86\",\r\n            \"title\": income.title,\r\n            \"amount\": income.amount,\r\n            \"type\": \"income\",\r\n            \"date\": income.date,\r\n            \"category\": income.category,\r\n            \"description\": income.description,\r\n            \"_id\": \"647def50c456489e555862e0\",\r\n            \"createdAt\": \"2023-06-05T14:21:04.712Z\",\r\n            \"updatedAt\": \"2023-06-05T14:21:04.712Z\",\r\n            \"__v\": 0\r\n        }\r\n        setIncomes(addin)\r\n        getIncome()\r\n        alert(\"Income added Successfully\")\r\n    }\r\n\r\n    const getIncome = async () => {\r\n        const response = await fetch(`http://localhost:5000/api/v1/get-incomes`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'content-type': 'application/json',\r\n                'auth-token': localStorage.getItem('token')\r\n            },\r\n        })\r\n        const json = await response.json()\r\n        console.log(json)\r\n        setIncomes(json)\r\n    }\r\n\r\n    const deleteIncome = async (id) => {\r\n        const response = await fetch(`http://localhost:5000/api/v1/delete-income/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'content-type': 'application/json',\r\n                'auth-token': localStorage.getItem('token')\r\n            }\r\n        })\r\n        const json = response.json();\r\n        console.log(json)\r\n\r\n        console.log(id)\r\n        const newincome = incomes.filter((income) => { return income._id !== id })\r\n        setIncomes(newincome)\r\n        getIncome()\r\n        alert(\"Income Deleted Successfully\")\r\n    }\r\n    const [totalIncome, setTotalIncome] = useState(0);\r\n\r\n    const addAllIncomes = async () => {\r\n        try {\r\n            const response = await fetch(`http://localhost:5000/api/v1/get-incomes`, {\r\n                method: 'GET',\r\n                headers: {\r\n                    'content-type': 'application/json',\r\n                    'auth-token': localStorage.getItem('token')\r\n                },\r\n            })\r\n            const userIncomes = response.data;\r\n\r\n            // Calculate the total income\r\n            const total = userIncomes.reduce((sum, income) => sum + income.amount, 0);\r\n            setTotalIncome(total);\r\n        } catch (error) {\r\n            console.error('Error fetching user incomes:', error);\r\n        }\r\n        // const totalIncome = async () => {\r\n        //     try {\r\n        //         const response = await fetch(`http://localhost:5000/api/v1/get-incomes`, {\r\n        //             method: 'GET',\r\n        //             headers: {\r\n        //                 'content-type': 'application/json',\r\n        //                 'auth-token': localStorage.getItem('token')\r\n        //             },\r\n        //         })\r\n        //         // const json = await response.json()\r\n        //         // console.log(json)\r\n\r\n        //         const userIncomeData = response.json();\r\n\r\n\r\n        //         // Calculate the total income\r\n        //         // console.log(userIncomeData)\r\n        //         const totalIncome = userIncomeData.reduce(\r\n        //             (total, income) => total + income.amount,\r\n        //             0\r\n        //         );\r\n\r\n        //         console.log(totalIncome);\r\n\r\n\r\n        //     } catch (error) {\r\n        //         console.log('Error fetching user income:', error);\r\n        //     }\r\n        // };\r\n        return (\r\n            <ExpContext.Provider value={{ incomes, addAllIncomes, deleteIncome, addIncome, getIncome }}>\r\n                {props.children}\r\n            </ExpContext.Provider>\r\n        )\r\n    }\r\n}\r\nexport default ExpState;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}